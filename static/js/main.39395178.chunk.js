(this.webpackJsonpxebiacoding=this.webpackJsonpxebiacoding||[]).push([[0],{44:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},47:function(e,t,a){e.exports=a(90)},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},68:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),c=a.n(s),i=a(17),l=(a(56),a(19)),o=a(15),u=a(25),m=a(10),d=a(11),p=a(14),_=a(12),f=a(13),b={FORM:{INPUT_FIELD:"inputField",BUTTON_FIELD:"button"},SERVICE_URLS:{USERS:"people/",PLANETS:"planets/"},THIRD_PARTY_API_HOST:"https://swapi.co/api/",ACTIONS:{ADD_PLANET_DATA:"PLANTS::ADD_PLANET_DATA"},ROUTES:{LOGIN:"/",SEARCH:"/search",DETAIL:"/detail",NOT_FOUND:"/not-found"}},h=a(1),E=a(16),v=(a(58),a(59),a(27)),g=a.n(v),O=function(e){var t=e.id,a=e.name,n=e.value,s=e.placeHolder,c=e.type,i=e.label,l=e.errorMessage,o=e.onChange;return r.a.createElement("fieldset",{className:"fieldset ".concat(Object(h.isEmpty)(l)?"":"fieldset--error")},Object(h.isEmpty)(i)?null:r.a.createElement("label",{htmlFor:t,className:"fieldset__label"},i),r.a.createElement("input",{id:t,name:a,placeholder:s,type:c,className:"fieldset__input",value:n,onChange:o,autoComplete:"off"}),Object(h.isEmpty)(l)?null:r.a.createElement("div",{className:"fieldset__message"},l))},N=g.a.generate();O.defaultProps={errorMessage:"",placeHolder:"",type:"text",label:"",id:N,name:N};var y=function(){return r.a.createElement("svg",{width:"50px",version:"1.1",id:"L4",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 63 12",enableBackground:"new 0 0 0 0",xmlSpace:"preserve"},r.a.createElement("circle",{fill:"#3f51b5",stroke:"none",cx:"6",cy:"6",r:"6"},r.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})),r.a.createElement("circle",{fill:"#3f51b5",stroke:"none",cx:"31",cy:"6",r:"6"},r.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})),r.a.createElement("circle",{fill:"#3f51b5",stroke:"none",cx:"56",cy:"6",r:"6"},r.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})))},w=(a(68),function(e){var t=e.type,a=e.label,n=e.disabled,s=e.showPreloader,c=["btn btn--block btn--submit"];return n&&c.push("btn--disabled"),s?r.a.createElement("button",{className:"btn btn--block btn--submit btn--disabled",disabled:n,type:"button"},r.a.createElement(y,null)):r.a.createElement("button",{className:c.join(" "),disabled:n,type:t},a)});w.defaultProps={disabled:!1,showPreloader:!1};var j={fieldsOrder:["userName","password","submit"],filedsData:{userName:{viewType:b.FORM.INPUT_FIELD,id:"userName",name:"userName",placeHolder:"Enter user name.",type:"text",isRequired:!0,label:"User Name",isValid:!1,value:"",validations:[]},password:{viewType:b.FORM.INPUT_FIELD,id:"password",name:"password",placeHolder:"Enter date of birth as password.",type:"password",label:"Password",value:"",isRequired:!0,isValid:!1,validations:[]},submit:{viewType:b.FORM.BUTTON_FIELD,id:"password",name:"submit",type:"submit",isRequired:!1,isValid:!0,label:"Login"}}},S=function(e){var t=e.onSubmit,a=e.notValidUserErrorMessage;return r.a.createElement("div",{className:"login__page"},r.a.createElement("div",{className:"login__page__head"},"Sign In"),Object(h.isEmpty)(a)?null:r.a.createElement("div",{className:"login__page__errorMessage"},a),r.a.createElement("div",{className:"login__page__body"},r.a.createElement("form",{onSubmit:t},I(e))))},I=function(e){var t=e.onChange,a=e.fieldValues,n=e.canLogin,s=e.isFetching,c=j.fieldsOrder,i=[];return c.forEach((function(e){var c=a[e],l=c.viewType,o=Object(E.a)(c,["viewType"]);b.FORM.INPUT_FIELD===l?i.push(r.a.createElement(O,Object.assign({},o,{onChange:t,key:e}))):b.FORM.BUTTON_FIELD===l&&i.push(r.a.createElement(w,Object.assign({},o,{disabled:!n,key:e,showPreloader:s})))})),i},T=function(e){var t=!0;for(var a in e)if(!e[a].isValid){t=!1;break}return t},D=function(e){e.type;var t=e.value;return e.payload.isRequired&&Object(h.isEmpty)(t)?{errorMessage:"Empty field is not Required.",isValid:!1}:{errorMessage:"",isValid:!0}},P=a(21),L=a.n(P),R=a(43);a.n(R)()(L.a);var C=g.a.generate(),k={get:function(e){var t=e.url,a=e.requestPayload,n=void 0===a?{}:a,r=e.callbackHandler;L.a.get("".concat(b.THIRD_PARTY_API_HOST).concat(t),{params:n,requestId:C}).then((function(e){r({data:e.data.results})})).catch((function(){r({data:[]})}))}};L.a.cancel(C);var U=window.sessionStorage,A={set:function(e){var t=e.key,a=void 0===t?"userInfo":t,n=Object(E.a)(e,["key"]);U.setItem(a,JSON.stringify(n))},get:function(){var e=U.getItem("userInfo");return JSON.parse(e)},delete:function(){U.removeItem("userInfo")}},F=function(e){var t=e.usersList,a=e.auth,n=!1;for(var r in t){var s=t[r],c=s.name,i=s.birth_year,l=Object(h.trim)(Object(h.toLower)(a.userName))===Object(h.trim)(Object(h.toLower)(c)),o=Object(h.trim)(Object(h.toLower)(a.password))===Object(h.trim)(Object(h.toLower)(i));if(l&&o){A.set({userName:c,password:i}),n=!0;break}}return n};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(_.a)(t).call(this,e))).onChange=function(e){var t=e.currentTarget,n=t.value,r=t.name,s=t.type,c=Object(h.cloneDeep)(a.state);c.fieldValues[r]=x({},c.fieldValues[r],{value:n},D({type:s,value:n,payload:c.fieldValues[r]})),c.canLogin=T(c.fieldValues),c.notValidUserErrorMessage="",a.setState(c)},a.onSubmit=function(e){e.preventDefault(),a.setState({isFetching:!0},a.fetchUserData)},a.fetchUserData=function(){k.get({url:b.SERVICE_URLS.USERS,requestPayload:{search:Object(h.toLower)(a.state.fieldValues.userName.value)},callbackHandler:a.usersSuccessHandler})},a.usersSuccessHandler=function(e){var t=a.state.fieldValues,n=t.userName,r=t.password,s=F({usersList:e.data,auth:{userName:n.value,password:r.value}}),c="";s||(c="Please enter correct username and password"),a.setState({isFetching:!1,notValidUserErrorMessage:c},(function(){s&&a.props.redirect(b.ROUTES.SEARCH)}))},a.state={fieldValues:x({},j.filedsData),canLogin:T(j.filedsData),isFetching:!1,notValidUserErrorMessage:""},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(S,Object.assign({},this.state,{onChange:this.onChange,onSubmit:this.onSubmit}))}}]),t}(r.a.Component),M=a(26),G=(a(86),function(e){var t=e.onChange,a=e.searchValue,n=null;return n=e.disabledSearch?r.a.createElement("div",{className:"search__page__message"},'If your username is not "',r.a.createElement("strong",null,"Luke Skywalker"),'" then you will not be able to search more than 15 times in a minute.',r.a.createElement("br",null),"If you want to cuntinue search then you need to wait for 1 minute."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search__page__head"},r.a.createElement(O,{placeHolder:"Search here...",onChange:t,value:a})),r.a.createElement("div",{className:"search__page__body"},r.a.createElement("ul",{className:"planet__list"},q(e)))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"search__page"},n))}),q=function(e){var t=e.planets,a=e.goToDetailPage;return e.isFetching?r.a.createElement("div",{className:"search__page__body__notfound"},r.a.createElement(y,null)):Object(h.isEmpty)(t)?r.a.createElement("div",{className:"search__page__body__notfound"},"Data not found."):t.map((function(e){var t=e.name,n=e.population,s=["planet__list__item"];return n>"1000000000000"?s.push("planet__list__item--large"):n>"1000000000"?s.push("planet__list__item--mid"):n>"45000000"&&s.push("planet__list__item--small"),r.a.createElement("li",{className:s.join(" "),key:t,onClick:function(){a({path:"".concat(b.ROUTES.DETAIL,"/").concat(Object(h.toLower)(t)),name:t})}},r.a.createElement("span",null,t))}))},B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(_.a)(t).call(this,e))).goToDetailPage=function(e){var t=e.path,n=e.name,r=a.state.planets.find((function(e){return e.name===n}));a.props.addPlanetData(r),a.props.redirect(t)},a.onChange=function(e){var t=e.currentTarget.value;a.setState({searchValue:t},(function(){Object(h.isEmpty)(Object(h.trim)(a.state.searchValue))?a.setState({planets:[]}):(a.fetchPlanetsData(),a.searchTimeCounter())}))},a.planetsSuccessHandler=function(e){a.setState({isFetching:!1,planets:e.data})},a.state={isFetching:!1,searchValue:"",searchCounter:0,planets:[]},a.fetchPlanetsData=Object(h.debounce)(a.fetchPlanetsData.bind(Object(M.a)(a)),200),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.userInfo.userName,t=this.state,a=t.searchCounter,n=Object(E.a)(t,["searchCounter"]);return r.a.createElement(G,Object.assign({},n,{onChange:this.onChange,goToDetailPage:this.goToDetailPage,disabledSearch:"Luke Skywalker"!==e&&15===a}))}},{key:"fetchPlanetsData",value:function(){var e=this;this.setState({isFetching:!0,searchCounter:this.state.searchCounter+1},(function(){k.get({url:b.SERVICE_URLS.PLANETS,requestPayload:{search:e.state.searchValue},callbackHandler:e.planetsSuccessHandler})}))}},{key:"searchTimeCounter",value:function(){var e=this,t=setTimeout((function(){e.setState({searchCounter:0})}),6e4);15===this.state.searchCounter&&clearTimeout(t)}}]),t}(r.a.Component),J=Object(i.b)(null,(function(e){return{addPlanetData:function(t){return e({type:b.ACTIONS.ADD_PLANET_DATA,data:t})}}}))(B),W=(a(87),function(e){var t=e.planetData,a=e.redirect,n=t.name,s=t.population,c=t.climate,i=t.gravity,l=t.terrain,o=t.diameter;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"detail__page"},r.a.createElement("div",{className:"detail__page__head"},r.a.createElement("div",{className:"detail__page__head__title"},"Planet Name: ",n),r.a.createElement("div",{className:"detail__page__head__link",onClick:function(){return a(b.ROUTES.SEARCH)}},"Back")),r.a.createElement("div",{className:"detail__page__body"},r.a.createElement("div",{className:"planetsInfo"},r.a.createElement("div",{className:"planetsInfo__row"},r.a.createElement("div",{className:"planetsInfo__row__column"},"Climate"),r.a.createElement("div",{className:"planetsInfo__row__column"},c)),r.a.createElement("div",{className:"planetsInfo__row"},r.a.createElement("div",{className:"planetsInfo__row__column"},"Gravity"),r.a.createElement("div",{className:"planetsInfo__row__column"},i)),r.a.createElement("div",{className:"planetsInfo__row"},r.a.createElement("div",{className:"planetsInfo__row__column"},"Terrain"),r.a.createElement("div",{className:"planetsInfo__row__column"},l)),r.a.createElement("div",{className:"planetsInfo__row"},r.a.createElement("div",{className:"planetsInfo__row__column"},"Diameter"),r.a.createElement("div",{className:"planetsInfo__row__column"},o)),r.a.createElement("div",{className:"planetsInfo__row"},r.a.createElement("div",{className:"planetsInfo__row__column"},"Population"),r.a.createElement("div",{className:"planetsInfo__row__column"},s))))))}),Y=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){Object(h.isEmpty)(this.props.planetData)&&this.props.redirect(b.ROUTES.SEARCH)}},{key:"render",value:function(){return r.a.createElement(W,Object.assign({},this.state,{redirect:this.props.redirect,planetData:this.props.planetData}))}}]),t}(r.a.Component),X=Object(i.b)((function(e){return{planetData:e.commonData.planetData}}))(Y),$=(a(88),a(44)),z=a.n($),K=function(e){var t=e.userLogout,a=e.userInfo;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header__wrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement(l.b,{to:b.ROUTES.LOGIN},r.a.createElement("img",{src:z.a,width:"50px",alt:"logo",className:"logo__img"}))),r.a.createElement("nav",{className:"navigation"},r.a.createElement("ul",{className:"navigation__list"},r.a.createElement("li",{className:"navigation__list__item"},a.userName),r.a.createElement("li",{className:"navigation__list__item"},r.a.createElement("span",{className:"navigation__list__item__link",onClick:t},"Sign out")))))))},Q=function(e){return function(t){function a(e){var t;return Object(m.a)(this,a),(t=Object(p.a)(this,Object(_.a)(a).call(this,e))).userLogout=function(){A.delete(),t.redirectToPage(b.ROUTES.LOGIN)},t.redirectToPage=function(e){t.setState({canRedirect:!0,redirectPath:e})},t.state={canRedirect:!1,redirectPath:""},t.date={userInfo:A.get()},t}return Object(f.a)(a,t),Object(d.a)(a,[{key:"render",value:function(){var t=this.props.match,a=this.state,n=a.canRedirect,s=a.redirectPath;return n?r.a.createElement(o.a,{to:s}):Object(h.isEmpty)(this.date.userInfo)&&t.path!==b.ROUTES.LOGIN?r.a.createElement(o.a,{to:b.ROUTES.LOGIN}):Object(h.isEmpty)(this.date.userInfo)||t.path!==b.ROUTES.LOGIN?r.a.createElement(r.a.Fragment,null,t.path===b.ROUTES.LOGIN?null:r.a.createElement(K,{userLogout:this.userLogout,userInfo:this.date.userInfo}),r.a.createElement(e,{params:t.params,userInfo:this.date.userInfo,redirect:this.redirectToPage})):r.a.createElement(o.a,{to:b.ROUTES.SEARCH})}}]),a}(r.a.Component)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(18);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae={planetData:{}},ne=a(46),re=Object(Z.c)({commonData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0,a=b.ACTIONS.ADD_PLANET_DATA,n=t.type,r=t.data;switch(n){case a:return te({},e,{planetData:r});default:return e}}}),se=Object(Z.d)(re,Object(Z.a)(ne.a));c.a.render(r.a.createElement(i.a,{store:se},r.a.createElement((function(){return r.a.createElement(l.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:b.ROUTES.LOGIN,exact:!0,component:Q(H)}),r.a.createElement(o.b,{path:b.ROUTES.SEARCH,exact:!0,component:Q(J)}),r.a.createElement(o.b,{path:"".concat(b.ROUTES.DETAIL,"/:id"),exact:!0,component:Q(X)}),r.a.createElement(o.b,{path:"",exact:!1,render:function(){return r.a.createElement(o.a,{to:b.ROUTES.LOGIN})}})))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.39395178.chunk.js.map